{"version":3,"sources":["../src/app.js"],"names":["app","use","bodyParser","json","urlencoded","extended","express","static","path","join","__dirname","routes","req","res","next","setHeader","logger","info","status","error","name","message","err","render","get"],"mappings":";;;;;;AAAA;;;;AAEA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;AACA;;;;;;AACA;;AAPA;AASA,IAAMA,MAAM,wBAAZ;;AAEAA,IAAIC,GAAJ,CAAQ,qBAAR;AACAD,IAAIC,GAAJ,CAAQ,sBAAO,KAAP,CAAR;AACAD,IAAIC,GAAJ,CAAQC,qBAAWC,IAAX,EAAR;AACAH,IAAIC,GAAJ,CAAQC,qBAAWE,UAAX,CAAsB,EAACC,UAAU,KAAX,EAAtB,CAAR;AACAL,IAAIC,GAAJ,CAAQ,6BAAR;AACAD,IAAIC,GAAJ,CAAQK,kBAAQC,MAAR,CAAeC,eAAKC,IAAL,CAAUC,SAAV,EAAqB,QAArB,CAAf,CAAR;;AAEAV,IAAIC,GAAJ,CAAQ,GAAR,EAAaU,gBAAb;;AAEA;AACAX,IAAIC,GAAJ,CAAQ,UAAUW,GAAV,EAAeC,GAAf,EAAoBC,IAApB,EAA0B;AAChCD,MAAIE,SAAJ,CAAc,6BAAd,EAA6C,GAA7C;AACA;AACAF,MAAIE,SAAJ,CAAc,8BAAd,EAA8C,wCAA9C,EAHgC,CAG0D;AAC1FF,MAAIE,SAAJ,CAAc,8BAAd,EAA8C,+DAA9C;AACAD;AACD,CAND;;AAQA;AACAd,IAAIC,GAAJ,CAAQ,UAACW,GAAD,EAAMC,GAAN,EAAc;AACpBG,mBAAOC,IAAP,CAAY,iBAAZ;AACAJ,MAAIK,MAAJ,CAAW,GAAX,EAAgBf,IAAhB,CAAqB;AACnBgB,WAAO;AACLC,YAAM,iBADD;AAELC,eAAS;AAFJ;AADY,GAArB;AAMD,CARD;;AAUArB,IAAIC,GAAJ,CAAQ,UAACqB,GAAD,EAAMV,GAAN,EAAWC,GAAX,EAAmB;AACzBA,MAAIK,MAAJ,CAAWI,IAAIJ,MAAJ,IAAc,GAAzB;AACAL,MAAIU,MAAJ,CAAW,OAAX,EAAoB;AAClBF,aAASC,IAAID,OADK;AAElBF,WAAQnB,IAAIwB,GAAJ,CAAQ,KAAR,MAAmB,aAApB,GAAqCF,GAArC,GAA2C;AAFhC,GAApB;AAID,CAND;;AAQA;kBACetB,G","file":"app.js","sourcesContent":["import express from 'express'\r\n//import logger2 from './configs/logger'\r\nimport path from 'path'\r\nimport logger from 'morgan'\r\nimport cookieParser from 'cookie-parser'\r\nimport bodyParser from 'body-parser'\r\nimport cors from 'cors';\r\nimport routes from './routes'\r\n// import users from './routes/users'\r\n\r\nconst app = express()\r\n\r\napp.use(cors());\r\napp.use(logger('dev'))\r\napp.use(bodyParser.json())\r\napp.use(bodyParser.urlencoded({extended: false}))\r\napp.use(cookieParser())\r\napp.use(express.static(path.join(__dirname, 'public')))\r\n\r\napp.use('/', routes)\r\n\r\n// Add headers\r\napp.use(function (req, res, next) {\r\n  res.setHeader('Access-Control-Allow-Origin', '*')\r\n  // Request methods you wish to allow\r\n  res.setHeader('Access-Control-Allow-Methods', 'GET, POST, OPTIONS, PUT, PATCH, DELETE');  // Request headers you wish to allow\r\n  res.setHeader('Access-Control-Allow-Headers', 'Origin, X-Requested-With, Content-Type, Accept, Authorization');\r\n  next();\r\n});\r\n\r\n// 404 error not found\r\napp.use((req, res) => {\r\n  logger.info('route not found')\r\n  res.status(404).json({\r\n    error: {\r\n      name: 'ROUTE_NOT_FOUND',\r\n      message: \"the url didn't match with the routes\"\r\n    }\r\n  })\r\n})\r\n\r\napp.use((err, req, res) => {\r\n  res.status(err.status || 500)\r\n  res.render('error', {\r\n    message: err.message,\r\n    error: (app.get('env') === 'development') ? err : {}\r\n  })\r\n})\r\n\r\n// export default app\r\nexport default app"]}